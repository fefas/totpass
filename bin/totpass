#!/usr/bin/env php
<?php

require_once __DIR__.'/../vendor/autoload.php';

use Symfony\Component\Console\Application;
use Fefas\TotPass\Infrastructure\Commands\ShowCommand;
use Fefas\TotPass\TotPassword\Infrastructure\PdoTotPasswordRepository;

$application = new Application();

$pdoDatabaseConnection = new PDO('sqlite:totpass.sqlite');
$totPasswordsRepository = new PdoTotPasswordRepository($pdoDatabaseConnection);

$application->add(new ShowCommand($totPasswordsRepository));

$application->run();
